<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìù Setup iklan</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #1a73e8;
            --border-color: #dadce0;
            --bg-color: #f8f9fa;
            --code-bg: #1e1e1e;
            --code-text: #d4d4d4;
            --text-color: #202124;
            --radius-input: 12px;
            --radius-container: 16px;
            --radius-btn: 50px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Google Sans', sans-serif;
            height: 100vh;
            color: var(--text-color);
            overflow: hidden;
            background: #fff;
        }

        .container { display: flex; height: 100vh; width: 100%; }

        .input-section {
            width: 500px;
            min-width: 350px;
            padding: 32px;
            overflow-y: auto;
            background: #fff;
            border-right: 1px solid var(--border-color);
        }

        .resizer {
            width: 8px;
            cursor: col-resize;
            background: #f1f3f4;
            transition: background 0.2s;
            border-left: 1px solid #ebebeb;
        }
        .resizer:hover { background: var(--primary-color); }

        .output-section {
            flex: 1;
            padding: 32px;
            background: var(--bg-color);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        h2 { color: var(--text-color); font-size: 18px; margin-bottom: 20px; font-weight: 700; }
        
        .section-title { 
            font-size: 11px; font-weight: 800; color: #5f6368; 
            text-transform: uppercase; border-bottom: 2px solid #e8eaed; 
            padding-bottom: 5px; margin: 30px 0 15px; letter-spacing: 0.5px; 
        }
        
        .form-group { margin-bottom: 20px; }
        label { display: block; font-weight: 700; font-size: 13px; margin-bottom: 8px; color: #202124; }
        .helper { font-size: 11px; color: #666; margin-bottom: 6px; display: block; line-height: 1.4; font-style: italic; }
        
        input[type="text"], select, textarea {
            width: 100%; padding: 12px 16px; 
            border: 1px solid var(--border-color);
            border-radius: var(--radius-input);
            font-family: inherit; font-size: 13px;
            background: #fff;
            color: #3c4043;
            transition: border 0.2s, box-shadow 0.2s;
        }

        textarea { resize: vertical; min-height: 80px; line-height: 1.5; }

        select {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23202124%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%0-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E");
            background-repeat: no-repeat;
            background-position: right 16px top 50%;
            background-size: 10px auto;
        }

        .custom-input { margin-top: 10px; display: none; background: #fff; }

        .view-toggle { display: flex; background: #e8eaed; padding: 4px; border-radius: var(--radius-btn); margin-bottom: 15px; width: fit-content; margin-left: auto; }
        .view-btn { padding: 8px 20px; border: none; background: transparent; font-size: 12px; font-weight: 700; cursor: pointer; border-radius: var(--radius-btn); color: #5f6368; transition: 0.2s; }
        .view-btn.active { background: #fff; color: var(--text-color); box-shadow: 0 2px 5px rgba(0,0,0,0.08); }

        .output-box { flex: 1; background: #fff; border: 1px solid var(--border-color); border-radius: var(--radius-container); overflow: hidden; position: relative; box-shadow: 0 4px 12px rgba(0,0,0,0.03); display: flex; flex-direction: column; }
        .brief-content { padding: 30px; line-height: 1.4; font-size: 14px; overflow-y: auto; height: 100%; }
        .brief-item { display: flex; border-bottom: 1px solid #f1f3f4; padding: 12px 0; align-items: flex-start; justify-content: flex-start; }
        .brief-key { font-weight: 700; width: 220px; color: #444; flex-shrink: 0; padding-right: 10px; line-height: 1.5; }
        .brief-val { color: #202124; font-weight: 500; flex: 1; text-align: left !important; white-space: pre-wrap; line-height: 1.5; }
        .output-section-header { font-weight: 800; color: #5f6368; margin: 15px 0 10px; font-size: 13px; text-transform: uppercase; border-bottom: 1px solid #e8eaed; padding-bottom: 3px; }

        .prompt-content { background: var(--code-bg); color: var(--code-text); font-family: 'JetBrains Mono', monospace; font-size: 12px; padding: 25px; white-space: pre-wrap; line-height: 1.8; height: 100%; overflow-y: auto; display: none; }
        
        .action-bar { margin-top: 15px; display: flex; justify-content: flex-start; }
        .btn { padding: 12px 28px; border: none; border-radius: var(--radius-btn); font-weight: 600; cursor: pointer; font-size: 13px; display: flex; align-items: center; gap: 8px; transition: 0.2s; }
        .btn-primary { background: #202124; color: #fff; } 

        .option-group { margin-top: 10px; padding: 12px; background: #f8f9fa; border-radius: 8px; border: 1px solid #eee; }
        .check-row { display: flex; gap: 20px; align-items: center; }
        .check-item { display: flex; align-items: center; gap: 8px; font-size: 13px; color: #3c4043; cursor: pointer; }
        .check-item input { width: 16px; height: 16px; margin: 0; cursor: pointer; }

        @media (max-width: 800px) {
            .container { flex-direction: column; }
            .input-section, .output-section { width: 100%; height: 50%; }
            .resizer { display: none; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- LEFT INPUT -->
        <div class="input-section" id="leftPane">
            <h2>Setup iklan</h2>

            <div class="section-title" style="margin-top:0">A. ESSENTIAL</div>
            <div class="form-group">
                <label>1. Nama Brand</label>
                <input type="text" id="brandName" placeholder="Contoh: Makaroni Ngehe, Maternal, atau Brand Kamu...">
            </div>

            <div class="form-group">
                <label>2. Industri</label>
                <select id="industry" onchange="toggleOther('industry', 'industryOther')">
                    <option value="">-- Pilih Industri --</option>
                    <option value="Makanan & Minuman">1. Makanan & Minuman (snack, minuman, restoran, kafe)</option>
                    <option value="Kecantikan & Fashion">2. Kecantikan & Fashion (skincare, makeup, baju, aksesoris)</option>
                    <option value="Produk Rumah Tangga">3. Produk Rumah Tangga (sabun, deterjen, harian)</option>
                    <option value="Bisnis Digital">4. Bisnis Digital (e-commerce, aplikasi, fintech)</option>
                    <option value="Travel & Hospitality">5. Travel & Hospitality (hotel, wisata, penginapan)</option>
                    <option value="Event & Wedding">6. Event & Wedding (konser, EO, WO, dekorasi)</option>
                    <option value="Otomotif">7. Otomotif (mobil, motor, bengkel)</option>
                    <option value="Properti & Konstruksi">8. Properti & Konstruksi (rumah, apartemen)</option>
                    <option value="Kesehatan">9. Kesehatan (klinik, RS, apotek, suplemen)</option>
                    <option value="Pendidikan">10. Pendidikan (sekolah, kursus, kampus)</option>
                    <option value="Jasa Profesional">11. Jasa Profesional (logistik, hukum, desain)</option>
                    <option value="Other">12. Lainnya / Tidak Yakin</option>
                </select>
                <input type="text" id="industryOther" class="custom-input" placeholder="Sebutkan industri Anda...">
            </div>

            <div class="form-group">
                <label>3. Nama produk</label>
                <input type="text" id="productName" placeholder="Contoh: Kopi Kenangan Mantan">
            </div>

            <div class="form-group">
                <label>4. Keunggulan produk (USP)</label>
                <textarea id="usp" placeholder="Contoh: 'Satu-satunya keripik tanpa minyak goreng, harga hanya 15 ribu.'"></textarea>
            </div>

            <div class="form-group">
                <label>5. Target audiens (consumer profile)</label>
                <select id="audience" onchange="toggleOther('audience', 'audienceOther')">
                    <option value="">-- Pilih Target Audiens --</option>
                    <option value="Pemburu promo">1. Pemburu promo (sensitif harga, suka diskon)</option>
                    <option value="Pencari kualitas">2. Pencari kualitas (mau bayar lebih untuk terbaik)</option>
                    <option value="Butuh solusi">3. Butuh solusi (punya masalah, cari jawaban)</option>
                    <option value="Anak muda / Gen Z">4. Anak muda / Gen Z (visual-driven)</option>
                    <option value="Profesional sibuk">5. Profesional sibuk (efisien, to the point)</option>
                    <option value="Ibu rumah tangga">6. Ibu rumah tangga (keluarga, praktis)</option>
                    <option value="Pemilik usaha / UMKM">7. Pemilik usaha / UMKM (bisnis)</option>
                    <option value="Lainnya / tidak yakin">8. Lainnya / tidak yakin</option>
                    <option value="Other">9. Tulis sendiri</option>
                </select>
                <input type="text" id="audienceOther" class="custom-input" style="display:none" placeholder="Sebutkan target audiens...">
            </div>

            <div class="form-group">
                <label>6. Tujuan iklan (campaign goal)</label>
                <div class="option-group">
                    <label class="check-item"><input type="radio" name="goal" value="Launch produk / layanan baru"> 1. Launch produk / layanan baru</label>
                    <label class="check-item"><input type="radio" name="goal" value="Perkenalan brand"> 2. Perkenalan brand</label>
                    <label class="check-item"><input type="radio" name="goal" value="Promosi & penjualan"> 3. Promosi & penjualan</label>
                    <label class="check-item"><input type="radio" name="goal" value="Campaign musiman"> 4. Campaign musiman / event</label>
                    <label class="check-item"><input type="radio" name="goal" value="Demo & edukasi"> 5. Demo & edukasi produk</label>
                    <label class="check-item"><input type="radio" name="goal" value="Testimoni & bukti sosial"> 6. Testimoni & bukti sosial</label>
                    <label class="check-item"><input type="radio" name="goal" value="Eksperimen konten"> 7. Eksperimen / test konten</label>
                    <label class="check-item"><input type="radio" name="goal" value="Optimasi otomatis"> 8. Optimasi otomatis</label>
                </div>
            </div>

            <div class="form-group">
                <label>7. Pesan utama iklan</label>
                <textarea id="mainMessage" placeholder="Contoh: 'Kopi ini bikin melek tanpa bikin kembung'"></textarea>
            </div>

            <div class="form-group">
                <label>8. Bahasa<span style="vertical-align: super; font-size: 0.8em; color: #d93025;">*</span>
                <select id="language">
                    <option value="Indonesia">1. Indonesia</option>
                    <option value="Inggris">2. Inggris</option>
                </select>
            </div>

            <div class="form-group">
                <label>9. Format konten iklan</label>
                <div class="option-group">
                    <label class="check-item"><input type="radio" name="format" value="Belum ditentukan / bebas"> 1. Belum ditentukan / bebas</label>
                    <label class="check-item"><input type="radio" name="format" value="UGC / creator style"> 2. UGC / creator style</label>
                    <label class="check-item"><input type="radio" name="format" value="Cinematic / brand film"> 3. Cinematic / brand film</label>
                    <label class="check-item"><input type="radio" name="format" value="Hard sell / promo"> 4. Hard sell / promo</label>
                    <label class="check-item"><input type="radio" name="format" value="Demo / tutorial"> 5. Demo / tutorial</label>
                    <label class="check-item"><input type="radio" name="format" value="Review / testimoni"> 6. Review / testimoni</label>
                    <label class="check-item"><input type="radio" name="format" value="Comparison"> 7. Comparison (perbandingan)</label>
                    <label class="check-item"><input type="radio" name="format" value="Walkthrough / tour"> 8. Walkthrough / tour</label>
                    <label class="check-item"><input type="radio" name="format" value="Animasi / CGI"> 9. Animasi / CGI / visual</label>
                </div>
            </div>

            <div class="form-group">
                <label>10. Gaya visual</label>
                <select id="visualStyle">
                    <option value="Natural">1. Natural (dokumenter, vlog, keseharian)</option>
                    <option value="Dramatis">2. Dramatis (visual 'wah', iklan TV)</option>
                    <option value="Fantasi">3. Fantasi (imajinatif, surealis)</option>
                </select>
            </div>

            <div class="form-group">
                <label>11. Gaya bicara</label>
                <select id="voiceTone">
                    <option value="Jelas (Lugas, informatif, serius)">1. Jelas (lugas, informatif, serius)</option>
                    <option value="Santai (Fun, ringan, bahasa teman)">2. Santai (fun, ringan, bahasa teman)</option>
                    <option value="Nyeleneh (Unik, lucu, tidak biasa)">3. Nyeleneh (unik, lucu, tidak biasa)</option>
                </select>
            </div>

            <div class="form-group">
                <label>12. Call to Action (CTA)</label>
                <input type="text" id="cta" placeholder="Contoh: 'Klik link di bio', 'Beli sekarang'">
            </div>

            <div class="section-title">B. MEDIA & ASSET</div>
            <div class="form-group">
                <label>13.Durasi dan rasio<span style="vertical-align: super; font-size: 0.8em; color: #d93025;">*</span></label>
                <select id="aspectRatio">
                    <option value="15s (9:16)">15s (9:16)</option>
                    <option value="15s (16:9)">15s (16:9)</option><!--
                    <option value="30s (9:16)">3. 30s (9:16)</option>
                    <option value="30s (16:9)">4. 30s (16:9)</option>-->
                </select>
            </div>

            <div class="form-group">
                <label>14. Unggah foto</label>
                <span class="helper">Visual produk atau kemasan utama.</span>
                <input type="file" id="fileUpload">
                <div class="option-group check-row" style="margin-top:10px">
                    <label class="check-item" style="display:none"><input type="checkbox" id="checkTalent" checked> Talent</label> <!-- hidden but default checked based on prompt -->
                    <label class="check-item"><input type="checkbox" id="checkTalentVisible"> Talent</label>
                    <label class="check-item"><input type="checkbox" id="checkProduk"> Product</label>
                    <label class="check-item"><input type="checkbox" id="checkLogo"> Logo</label>
                </div>
            </div>

            <div class="form-group">
                <label>15. Brand guidelines / ketentuan visual (opsional)</label>
                <textarea id="guidelines" placeholder="Contoh: 'Wajib tampilkan logo di akhir'"></textarea>
            </div>

            <div class="form-group">
                <label>16. Script (optional)</label>
                <textarea id="narasi" placeholder="Paste di sini..."></textarea>
            </div>

        </div>

        <div class="resizer" id="resizer"></div>

        <!-- RIGHT OUTPUT -->
        <div class="output-section">
            <div class="view-toggle">
                <button class="view-btn active" onclick="switchView('brief')">Preview</button>
                <button class="view-btn" onclick="switchView('prompt')">Brief</button>
            </div>

            <div class="output-box">
                <div id="briefView" class="brief-content"></div>
                <div id="promptView" class="prompt-content"></div>
            </div>

            <div class="action-bar">
                <button class="btn btn-primary" onclick="copyText()">
                    <span>Generate</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        function toggleOther(selectId, otherId) {
            const select = document.getElementById(selectId);
            const other = document.getElementById(otherId);
            if(select && other) {
                other.style.display = (select.value === 'Other' || select.value === 'Lainnya / tidak yakin') ? 'block' : 'none';
            }
            render();
        }

        function getData() {
            const getV = (id) => document.getElementById(id).value;
            const getC = (id) => document.getElementById(id).checked ? 'Yes' : '';
            const getRadio = (name) => {
                const el = document.querySelector(`input[name="${name}"]:checked`);
                return el ? el.value : '';
            }
            return {
                "Nama Brand": getV('brandName'),
                "Industri": getV('industry') === 'Other' ? getV('industryOther') : getV('industry'),
                "Nama produk": getV('productName'),
                "Keunggulan Produk (USP)": getV('usp'),
                "Target audiens (consumer profile)": getV('audience') === 'Other' ? getV('audienceOther') : getV('audience'),
                "Tujuan iklan (campaign goal)": getRadio('goal'),
                "Pesan utama iklan": getV('mainMessage'),
                "Bahasa": getV('language') || "Indonesia",
                "Format konten iklan": getRadio('format'),
                "Gaya visual": getV('visualStyle') || "Natural",
                "Gaya bicara": getV('voiceTone') || "Jelas (Lugas, informatif, serius)",
                "Call to Action (CTA)": getV('cta'),
                "Durasi dan rasio": getV('aspectRatio') || "15s (16:9)",
                "Unggah foto": {
                    produk: getC('checkProduk'),
                    talent: getC('checkTalentVisible'),
                    logo: getC('checkLogo')
                },
                "Brand guidelines / ketentuan visual": getV('guidelines'),
                "Script": getV('narasi')
            };
        }

        function render() {
            const data = getData();
            let html = '';
            let raw = "";
            let idx = 1; 
            const coreKeys = ["Bahasa", "Durasi dan rasio", "Gaya visual", "Gaya bicara", "Unggah foto"];
            
            // ESSENTIAL HEADER
            html += '<div class="output-section-header">A. ESSENTIAL</div>';
            raw += "A. ESSENTIAL\n";

            const entries = Object.entries(data);
            
            entries.forEach(([key, val], i) => {
                // Section B Header insert
                if (key === "Durasi dan rasio") {
                    html += '<div class="output-section-header">B. MEDIA & ASSET</div>';
                    raw += "\nB. MEDIA & ASSET\n";
                    idx = 13;
                }

                if(val || coreKeys.includes(key) || (typeof val === 'object' && key === "Unggah foto")) {
                    if(key === "Unggah foto") {
                        html += `<div class="brief-item">
                                    <div class="brief-key">${idx}. ${key}:</div>
                                        Talent: ${val.talent || 'No'}, 
                                        Product: ${val.produk || 'Yes'}, 
                                        Logo: ${val.logo || 'No'}
                                    
                                 </div>`;
                        raw += `${idx}. ${key}:\n   - Talent: ${val.talent || 'No'}\n   - Product: ${val.produk || 'Yes'}\n   - Logo: ${val.logo || 'No'}\n`;
                        idx++;
                    } else {
                        html += `<div class="brief-item">
                                    <div class="brief-key">${idx}. ${key}:</div>
                                    <div class="brief-val">${val}</div>
                                 </div>`;
                        raw += `${idx}. ${key}: ${val}\n`;
                        idx++;
                    }
                }
            });

            document.getElementById('briefView').innerHTML = html;
            document.getElementById('promptView').textContent = raw;
        }

        function switchView(mode) {
            document.getElementById('briefView').style.display = mode === 'brief' ? 'block' : 'none';
            document.getElementById('promptView').style.display = mode === 'prompt' ? 'block' : 'none';
            const btns = document.querySelectorAll('.view-btn');
            btns.forEach(btn => {
                const btnText = btn.innerText.toLowerCase();
                if ((mode === 'brief' && btnText === 'preview') || (mode === 'prompt' && btnText === 'brief')) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        function copyText() {
            const text = document.getElementById('promptView').textContent;
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.querySelector('.btn-primary span');
                btn.textContent = "Generated";
                setTimeout(() => btn.textContent = "Generate", 200);
            });
        }

        document.querySelectorAll('input, select, textarea').forEach(input => {
            input.addEventListener('input', render);
            input.addEventListener('change', render);
        });

        const resizer = document.getElementById('resizer');
        const leftPane = document.getElementById('leftPane');
        resizer.addEventListener('mousedown', e => {
            const move = ev => leftPane.style.width = ev.clientX + 'px';
            const stop = () => { document.removeEventListener('mousemove', move); document.removeEventListener('mouseup', stop); };
            document.addEventListener('mousemove', move);
            document.addEventListener('mouseup', stop);
        });

        render();
    </script>
</body>
</html>
